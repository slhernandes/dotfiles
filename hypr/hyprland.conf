
# #######################################################################################
# AUTOGENERATED HYPR CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hypr.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
# #######################################################################################

#
# Please note not all available settings / options are set here.
# For a full list, see the wiki
#

# Set programs that you use
$terminal = kitty -e $HOME/.config/tmux/bin/tmux-start
$fileManager = kitty -e yazi
$menu = rofi -show drun
$browser = firefox -P default-release --setDefaultBrowser
$config_dir = $XDG_CONFIG_HOME/hypr


# See https://wiki.hyprland.org/Configuring/Monitors/
monitor = eDP-1, 1920x1080@120, 0x0, 1
monitor = , preferred, auto, 1, mirror, eDP-1


# See https://wiki.hyprland.org/Configuring/Keywords/ for more

# Execute your favorite apps at launch
exec-once = $config_dir/scripts/launch_waybar
exec-once = $config_dir/scripts/wallpaper.sh
exec-once = swaync
exec-once = copyq --start-server
exec-once = xfce4-power-manager
# exec-once = caffeine
exec-once = fcitx5 -d
exec-once = nm-applet --sm-disable
exec-once = systemctl --user start hyprpolkitagent
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# exec-once = xwaylandvideobridge
exec-once = hypridle >  /tmp/hypridle.log

# Source a file(multi-file configs)
# source = ~/.config/hypr/myColors.conf

# Some default env vars.
# NVIDIA ENVS
# env = LIBVA_DRIVER_NAME, nvidia
# env = GBM_BACKEND, nvidia-drm
# env = __GLX_VENDOR_LIBRARY_NAME, nvidia
# env = NVD_BACKEND, direct
# env = AQ_DRM_DEVICES,/dev/dri/card0:/dev/dri/card1

# AMD Driver
# env = AQ_DRM_DEVICES,/dev/dri/card1:/dev/dri/card0

env = XDG_SESSION_TYPE, wayland
env = QT_QPA_PLATFORMTHEME, qt5ct # change to qt6ct if you have that
env = ELECTRON_OZONE_PLATFORM_HINT,auto
env = HYPRCURSOR_THEME, McMojave
env = HYPRCURSOR_SIZE, 36
env = XCURSOR_SIZE, 36
env = MOZ_ENABLE_WAYLAND, 1

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
cursor {
  no_hardware_cursors = true
  no_warps = true
}

input {
    kb_layout = de
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1
    natural_scroll = true
    repeat_rate = 50
    repeat_delay = 150
    accel_profile = flat

    touchpad {
        natural_scroll = yes
        scroll_factor = 0.2
        disable_while_typing = false
    }

    sensitivity = 0 # -1.0 to 1.0, 0 means no modification.
}

binds {
  scroll_event_delay = 10

}

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    gaps_in = 4
    gaps_out = 4
    border_size = 2
    col.active_border = rgba(7aa2f7aa) rgba(8f80f7aa) 45deg
    col.inactive_border = rgba(2e3c64aa)


    layout = master

    # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    allow_tearing = true
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    rounding = 10
    
    blur {
        enabled = true
        size = 3
        passes = 1
    }

#     drop_shadow = yes
#     shadow_range = 4
#     shadow_render_power = 3
#     col.shadow = rgba(1a1a1aee)
}

animations {
    enabled = yes

    # Some default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 5, myBezier
    animation = windowsOut, 1, 5, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 5, default
    animation = specialWorkspace, 1, 3, default, slidefadevert
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
#     new_is_master = true
    mfact = 0.5
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = on
    workspace_swipe_use_r = false
    workspace_swipe_create_new = false
}

misc {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = true
    focus_on_activate = true
    key_press_enables_dpms = true
}

debug {
    disable_logs = false
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

# Example windowrule v1
# windowrule = float, ^(kitty)$
# Example windowrule v2
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
windowrule = opacity 0.9 0.8, ^(kitty)$

windowrulev2 = float, class:^(Waydroid)$
windowrulev2 = float, class:^(waydroid.*)$

windowrule = opacity 1.0 0.97, ^(firefox)$
windowrulev2 = workspace 5 silent, class:^(firefox)$, initialTitle:^(Mozilla Firefox)$

windowrulev2 = workspace 7 silent, class:^(steam)$
windowrulev2 = float, title:^(Friends List)$
windowrulev2 = fullscreen, class:^(steam_app_.*)$
windowrulev2 = workspace 8, class:^(steam_app_.*)$
windowrulev2 = immediate, class:^(steam_app_.*)$
windowrule = unset, ^(notificationtoasts_*_desktop)$

# windowrulev2 = workspace 9, class:^(ferdium)$
# windowrulev2 = maximize, class:^(ferdium)$

windowrulev2 = workspace 9, class:^(vesktop)$, initialTitle:^(Discord)$
# windowrulev2 = maximize, class:^(vesktop)$, initialTitle:^(Discord)$

windowrulev2 = float, initialTitle:^(Discord Popout)$
windowrulev2 = pin, initialTitle:^(Discord Popout)$
windowrulev2 = size <35% <35%, initialTitle:^(Discord Popout)$
windowrulev2 = move onscreen 100%-w-5 100%-w-5, initialTitle:^(Discord Popout)$

windowrulev2 = float, class:^(hyprland-share-picker)$

windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = size <35% <35%, title:^(Picture-in-Picture)$
windowrulev2 = move onscreen 100%-w-5 100%-w-5, title:^(Picture-in-Picture)$

windowrulev2 = float, title:^(Waylyrics)$
windowrulev2 = pin, title:^(Waylyrics)$
windowrulev2 = size 500 120, title:^(Waylyrics)$
windowrulev2 = move onscreen 100%-w-5 100%-w-5, title:^(Waylyrics)$

windowrulev2 = pin, class:^(dragon-drop)$

windowrulev2 = stayfocused, class:^(Rofi)$

windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.

layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window

layerrule = ignorezero, swaync-control-center
layerrule = ignorezero, swaync-notification-window

layerrule = ignorealpha 0.5, swaync-control-center
layerrule = ignorealpha 0.5, swaync-notification-window

layerrule = blur, waybar
layerrule = xray on, waybar
layerrule = ignorealpha 0.5, waybar

# See https://wiki.hyprland.org/Configuring/Keywords/ for more
$mainMod = SUPER

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bind = $mainMod, U, exec, hyprlock
bind = $mainMod, T, exec, $terminal
bind = $mainMod, F, exec, $browser
bind = $mainMod, M, exit, 
bind = $mainMod, R, exec, $fileManager
bind = $mainMod, P, exec, $menu
bind = $mainMod, return, fullscreen
bind = $mainMod, Space, fullscreen, 1
bind = $mainMod, C, exec, $HOME/.config/hypr/scripts/passmenu
bind = $mainMod SHIFT, C, killactive, 
bind = $mainMod SHIFT, S, togglefloating, 
bind = $mainMod SHIFT, Q, exec, $HOME/.local/bin/sddmenu
bind = $mainMod SHIFT, P, exec, $HOME/.local/bin/find_pdf
bind = $mainMod, N, exec, swaync-client -t -sw
binde = SHIFT, F1, exec, $HOME/.config/hypr/scripts/volume mute
binde = SHIFT, F2, exec, playerctl previous
binde = SHIFT, F3, exec, playerctl play-pause
binde = SHIFT, F4, exec, playerctl next
binde = SHIFT, F5, exec, $HOME/.config/hypr/scripts/volume down
binde = SHIFT, F6, exec, $HOME/.config/hypr/scripts/volume up
binde = SHIFT, F7, exec, $HOME/.config/hypr/scripts/brightness.sh down
binde = SHIFT, F8, exec, $HOME/.config/hypr/scripts/brightness.sh up
bind = SHIFT, F9, exec, $HOME/.config/hypr/scripts/lowpowermode toggle
bind = $mainMod, S, exec, grimblast --notify copysave area
bind = , PRINT, exec, grimblast --notify copysave area
# bind = $mainMod, P, pseudo, # dwindle
# bind = $mainMod, J, togglesplit, # dwindle

# Move focus with mainMod + arrow keys
binde = $mainMod, left, movefocus, l
binde = $mainMod, right, movefocus, r
binde = $mainMod, up, movefocus, u
binde = $mainMod, down, movefocus, d
binde = $mainMod SHIFT, right, resizeactive, 10 0
binde = $mainMod SHIFT, left, resizeactive, -10 0
binde = $mainMod SHIFT, up, resizeactive, 0 -10
binde = $mainMod SHIFT, down, resizeactive, 0 10
binde = $mainMod, j, cyclenext, prev
binde = $mainMod, k, cyclenext, next
binde = $mainMod SHIFT, j, swapnext, prev
binde = $mainMod SHIFT, k, swapnext, next

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, togglespecialworkspace, magic
binde = $mainMod, h, workspace, e-1
binde = $mainMod, l, workspace, e+1
bind = $mainMod, comma, layoutmsg, orientationleft
bind = $mainMod, period, layoutmsg, orientationtop

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspace, special:magic
binde = $mainMod SHIFT, h, exec, $config_dir/scripts/move.sh prev
binde = $mainMod SHIFT, l, exec, $config_dir/scripts/move.sh next

# Example special workspace (scratchpad)
# bind = $mainMod, S, togglespecialworkspace, magic
# bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
bindel = , XF86AudioRaiseVolume, exec, volume up
bindel = , XF86AudioLowerVolume, exec, volume down
bindl = , XF86AudioMute, exec, volume mute

# trigger when the switch is toggled
bindl = , switch:Lid Switch, exec, loginctl lock-session
# trigger when the switch is turning on
bindl = , switch:on:Lid Switch, exec, hyprctl dispatch dpms off
# trigger when the switch is turning off
bindl = , switch:off:Lid Switch, exec, hyprctl dispatch dpms on

unbind = $mainMod, M

workspace = name:special:magic, gapsout:4 320 335 341

# Special Workspaces
# windowrulev2 = workspace special:btop, class:^(btop_sp)$
bind = $mainMod SHIFT, B, exec, $config_dir/scripts/namedsp.sh btop
workspace = name:special:btop, gapsout:4 320 335 341

# windowrulev2 = workspace special:firefox, class:^(firefox_sp)$
bind = $mainMod SHIFT, F, exec, $config_dir/scripts/namedsp.sh firefox
workspace = name:special:firefox, gapsout:4 320 335 341

# windowrulev2 = workspace special:wezterm, class:^(wezterm_sp)$
bind = $mainMod SHIFT, T, exec, $config_dir/scripts/namedsp.sh wezterm
workspace = name:special:wezterm, gapsout:4 320 335 341

# windowrulev2 = workspace special:neomutt, class:^(neomutt_sp)$
bind = $mainMod SHIFT, N, exec, $config_dir/scripts/namedsp.sh neomutt
workspace = name:special:neomutt, gapsout:4 320 335 341

# windowrulev2 = workspace special:yazi, class:^(yazi_sp)$
bind = $mainMod SHIFT, R, exec, $config_dir/scripts/namedsp.sh yazi
workspace = name:special:yazi, gapsout:4 320 335 341

# windowrulev2 = workspace special:ferdium, class:^(ferdium_sp)$
bind = $mainMod SHIFT, Y, exec, $config_dir/scripts/namedsp.sh ferdium
workspace = name:special:ferdium, gapsout:4 320 335 341

# moved to tmux
# windowrulev2 = workspace special:music, class:^(music_sp)$
# bind = $mainMod SHIFT, M, exec, $config_dir/scripts/namedsp.sh termusic
# workspace = name:special:music, gapsout:4 320 335 341
